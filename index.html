<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AHQ Generator Interface</title>
  <style>
    .button-container {
      display: flex;
      flex-direction: column;
      max-width: 300px;
      margin-bottom: 20px;
    }
    button {
      margin: 5px 0;
      padding: 10px;
      font-size: 16px;
      cursor: pointer;
    }
    textarea {
      width: 100%;
      height: 200px;
      font-size: 16px;
      padding: 10px;
      box-sizing: border-box;
      resize: vertical;
    }
  </style>
</head>
<body>
  <div class="button-container">
    <button id="new-passage">New Passage</button>
    <button id="open-door">Open Door</button>
    <button id="secret-door">Secret Door</button>
    <button id="door-inside-room">Door inside Room</button>
  </div>
  <textarea id="result-area" readonly></textarea>

  <script>
    // Function to fetch output from the PHP script
    async function fetchTables(tables) {
      try {
        const response = await fetch('index2.php?tables=' + tables);
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }
        return await response.text();
      } catch (error) {
        return "Error: " + error.message;
      }
    }

// Attach event listeners to buttons
document.getElementById('new-passage').addEventListener('click', async function() {
  const result = await fetchTables('passage-length,passage-end,passage-feature');
  document.getElementById('result-area').value = result.replace(/<br\s*\/?>/gi, "\n");
});

document.getElementById('open-door').addEventListener('click', async function() {
  const result = await fetchTables('room-type,room-doors');
  document.getElementById('result-area').value = result.replace(/<br\s*\/?>/gi, "\n");
});

document.getElementById('secret-door').addEventListener('click', async function() {
  const result = await fetchTables('secret-doors');
  document.getElementById('result-area').value = result.replace(/<br\s*\/?>/gi, "\n");
});

document.getElementById('door-inside-room').addEventListener('click', async function() {
  const result = await fetchTables('room-or-passage');
  document.getElementById('result-area').value = result.replace(/<br\s*\/?>/gi, "\n");
});

  </script>
</body>
</html>
